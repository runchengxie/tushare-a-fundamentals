# Example configuration (please copy as config.yml and modify as needed)
years: 10
# quarters: 40
fields: "ts_code,ann_date,f_ann_date,end_date,report_type,comp_type,update_flag,total_revenue,revenue,total_cogs,operate_profit,total_profit,income_tax,n_income,n_income_attr_p,ebit,ebitda,rd_exp"
outdir: "out"
prefix: "income"
format: "parquet"
# By default, only consolidated reports (report_type=1) are downloaded.
# 1. Consolidated Statements: The latest consolidated financial statements of the listed company (this is the default type).
# 2. Quarterly Consolidated Statements: Consolidated financial statements for a single quarter.
# 3. Adjusted Quarterly Consolidated Statements: Adjusted consolidated financial statements for a single quarter (if available).
# 4. Adjusted Consolidated Statements (Prior Period Comparative): Prior-year comparative data as published in the current year's financial statements; the reporting period is for the previous year.
# 5. Pre-adjustment Consolidated Statements: The original data that was retained before a change or restatement was made.
# 6. Parent Company Statements: The financial statements of the parent company on a standalone basis (unconsolidated).
# 7. Parent Company Quarterly Statements: The quarterly financial statements of the parent company.
# 8. Adjusted Parent Company Quarterly Statements: The adjusted quarterly financial statements of the parent company.
# 9. Adjusted Parent Company Statements (Prior Period Comparative): The parent company's prior-year comparative data as published in the current year's financial statements.
# 10. Pre-adjustment Parent Company Statements: The original financial statement data of the parent company before any adjustments were made.
# 11. Pre-adjustment Consolidated Statements: The original data of the consolidated financial statements before adjustments were made.
# 12. Pre-adjustment Parent Company Statements: The original data of the parent company's statements, retained from before a change or restatement occurred.
report_types: "1"
# The 'download' subcommand defaults to patch missing periods plus a rolling refresh window.
skip_existing: false
# recent_quarters controls the rolling refresh window: re-fetches the most recent N quarters to pick up revisions.
# Set recent_quarters to 0 to disable this behavior; skip_existing: true skips the refresh entirely (only fetch missing combos).
recent_quarters: 8
# Enable multi-dataset batch download (Example)
# datasets:
#   - name: income
#     report_types: [1]
#   - balancesheet
#   - cashflow
#   - forecast
#   - express
#   - dividend
#   - name: fina_mainbz
#     type: ["P", "D", "I"]
# data_dir: "data"
# Only the VIP version of Tushare token supports batch download
# use_vip: true       
# max_per_minute: 90
# state_path: null
# Derived export controls (download -> parquet snapshot -> CSV export)
export_enabled: true
export_out_format: "csv"
export_out_dir: null  # default to <outdir>/<format>
export_kinds: "annual,single,cumulative"
export_annual_strategy: "cumulative"
# export_years: 10  # By default, inherits the value from 'years'; even if set to a larger value, it will only export the quarters that currently exist in the cache.
# export_strict: false
# allow_future: false  # Set to true to allow fetching future quarters that have not yet been disclosed
# Fallback for manually setting up the Tushare API token when environment variables cannot be used (not recommended; use only when no other options exist).
# token: "your_tushare_token"
